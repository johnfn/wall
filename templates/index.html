{% extends "skeleton.html" %}
  
{% block title %}Home{% endblock %}

{% block content %}
  <ul id="choices">
	<li><div class="tab"><img src="{{ STATIC_URL }}icons/comment.png" alt=""/> <strong>Comment</strong></div></li>
	<li><div><a class="tab" href="javascript:void(0);"><img src="{{ STATIC_URL }}icons/error.png" alt=""/> Challenge</a></div></li>
  </ul>
  <div class="clear"></div>
  {% include "postchallenge.html" %}

  <div id="sidebar">
    <div class="leaderboard">
      <h3>Leaderboard</h3>
      <ol>
        {% for candidate in candidates %}
          <li> <a href = "/candidates/{{ candidate.username }}">{{ candidate.username }}</a>: {{ candidate.get_profile.challenges_answered }}/{{ candidate.get_profile.challenges }} </li>
        {% endfor %}
      </ol>
    </div>
    <div id="support">
      <h3>Support a candidate!</h3>
      <div> 
        {% for candidate in candidates %}
          {% if candidate != user_info.supports %}
            <a href="/support/{{ candidate }}"> {{ candidate }} </a>
          {% else %}
            {{ candidate }}
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>

  <div id="posts">
  {% for post in posts %}
    {# Show every top level post #}
	
    {% include "post.html" with post=post %}

    <div class="rightalittle">
      {% for comment in post.comment_set.all %}
        {% include "post.html" with post=comment %}
      {% endfor %}

      {% if not post.challenge_answered %}
        {% include "postcomment.html" with address="comment"  showchallenge="false" id=post.id %}
      {% endif %}
    </div>
  {% endfor %}
  </div>
  <div> 
    ‹‹ newer
    {% for number in page_range %}
      {% if number != current_page %}
        <a href="/{{ number }}/">{{ number }}</a>
      {% else %}
        {{ number }}
      {% endif %}
    {% endfor %} 
    older ››
  </div>

{% endblock %}